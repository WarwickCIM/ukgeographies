[{"path":"https://warwickcim.github.io/ukgeographies/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 ukgeographies authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://warwickcim.github.io/ukgeographies/articles/ukgeographies.html","id":"notes-on-url-patterns","dir":"Articles","previous_headings":"","what":"Notes on URL patterns:","title":"ukgeographies","text":"Countries (December 2022) Boundaries GB BUC: https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Countries_December_2022_GB_BUC/FeatureServer/0/query?outFields=*&=1%3D1&f=geojson Countries (December 2019) Boundaries GB BUC: https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Countries_Dec_2019_UGCB_GB_2022/FeatureServer/0/query?outFields=*&=1%3D1&f=geojson Counties (December 2021) Boundaries EN BGC : https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Counties_December_2021_EN_BGC_2022/FeatureServer/0/query?outFields=*&=1%3D1&f=geojson Counties (December 2021) Boundaries EN BFC https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Counties_December_2021_EN_BFC_2022/FeatureServer/0/query?outFields=*&=1%3D1&f=geojson Counties (May 2023) Boundaries EN BFC: https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Counties_May_2023_Boundaries_EN_BFC/FeatureServer/0/query?outFields=*&=1%3D1&f=geojson Combined Authorities (December 2022) Boundaries EN BUC :https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/Combined_Authorities_December_2022_EN_BUC/FeatureServer/0/query?outFields=*&=1%3D1&f=geojson Countries (December 2019) Boundaries GB BUC: Another option dataframe possible URLs retrieve ","code":""},{"path":"https://warwickcim.github.io/ukgeographies/articles/ukgeographies.html","id":"components","dir":"Articles","previous_headings":"Notes on URL patterns:","what":"Components","title":"ukgeographies","text":"Clipping / Resolution: BFC: Full resolution - clipped coastline (Mean High Water mark) BFE: Full resolution - extent realm (usually Mean Low Water mark , cases, boundaries extend beyond include offshore islands) BGC: Generalised (20m) - clipped coastline (Mean High Water mark) BUC: Ultra Generalised (500m) - clipped coastline (Mean High Water mark)","code":""},{"path":"https://warwickcim.github.io/ukgeographies/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Carlos Cámara-Menoyo. Author, maintainer.","code":""},{"path":"https://warwickcim.github.io/ukgeographies/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Cámara-Menoyo C (2024). ukgeographies: Downloads UK Geographies ONS' Geoportal. R package version 0.0.0.9000, https://warwickcim.github.io/ukgeographies/.","code":"@Manual{,   title = {ukgeographies: Downloads UK Geographies From ONS' Geoportal},   author = {Carlos Cámara-Menoyo},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://warwickcim.github.io/ukgeographies/}, }"},{"path":"https://warwickcim.github.io/ukgeographies/index.html","id":"ukgeographies","dir":"","previous_headings":"","what":"Downloads UK Geographies From ONS' Geoportal","title":"Downloads UK Geographies From ONS' Geoportal","text":"[!WARNING] package highly experimental still WIP. Expect uncomplete features, frequent breaks, lack documentation changes API. UK Geographies complex enough1, working easy enough. goal {UKgeogRaphies} provide interface easily retrieve geospatial data ONS’ Geoportal make usable within R. far provides limited functionality download boundaries UK convert sf objects. Acknowledgement: packages highly inspired (feature wise) {UKgeog}, ceased work ONS changed API maintained since 2022.","code":""},{"path":"https://warwickcim.github.io/ukgeographies/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Downloads UK Geographies From ONS' Geoportal","text":"can install development version ukgeographies GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"WarwickCIM/ukgeographies\")"},{"path":"https://warwickcim.github.io/ukgeographies/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Downloads UK Geographies From ONS' Geoportal","text":"basic example shows solve common problem:","code":"library(ukgeographies)  # Get a sf object from  countries_2023 <- boundaries_get(\"CTRY\", 2023, \"BUC\") #> Warning in CPL_read_ogr(dsn, layer, query, as.character(options), quiet, : GDAL #> Message 1: organizePolygons() received a polygon with more than 100 parts. The #> processing may be really slow.  You can skip the processing by setting #> METHOD=SKIP, or only make it analyze counter-clock wise parts by setting #> METHOD=ONLY_CCW if you can assume that the outline of holes is counter-clock #> wise defined class(countries_2023) #> [1] \"sf\"         \"tbl_df\"     \"tbl\"        \"data.frame\" countries_2023 #> Simple feature collection with 4 features and 11 fields #> Geometry type: MULTIPOLYGON #> Dimension:     XY #> Bounding box:  xmin: -8.649996 ymin: 49.88234 xmax: 1.763706 ymax: 60.86087 #> Geodetic CRS:  WGS 84 #> # A tibble: 4 × 12 #>     FID CTRY23CD  CTRY23NM       CTRY23NMW  BNG_E  BNG_N LONG  LAT   Shape__Area #>   <int> <chr>     <chr>          <chr>      <int>  <int> <chr> <chr>       <dbl> #> 1     1 E92000001 England        Lloegr    394883 370883 -2.0… 53.2…     1.31e11 #> 2     2 N92000002 Northern Irel… Gogledd …  86544 535337 -6.8… 54.6…     1.43e10 #> 3     3 S92000003 Scotland       Yr Alban  277744 700060 -3.9… 56.1…     7.86e10 #> 4     4 W92000004 Wales          Cymru     263405 242881 -3.9… 52.0…     2.08e10 #> # ℹ 3 more variables: Shape__Length <dbl>, GlobalID <chr>, #> #   geometry <MULTIPOLYGON [°]> plot(countries_2023[\"CTRY23NM\"])"},{"path":"https://warwickcim.github.io/ukgeographies/index.html","id":"boundaries","dir":"","previous_headings":"","what":"Boundaries","title":"Downloads UK Geographies From ONS' Geoportal","text":"","code":"#>  #> Attaching package: 'dplyr' #> The following objects are masked from 'package:stats': #>  #>     filter, lag #> The following objects are masked from 'package:base': #>  #>     intersect, setdiff, setequal, union"},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_get.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve Geographical Boundaries — boundaries_get","title":"Retrieve Geographical Boundaries — boundaries_get","text":"Queries ONS' Geoportal endpoints retrieves requested geographical boundaries form sf object.","code":""},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_get.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve Geographical Boundaries — boundaries_get","text":"","code":"boundaries_get(boundary, year = NULL, detail_level = \"BUC\")"},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_get.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve Geographical Boundaries — boundaries_get","text":"boundary string containing acronym name boundary downloaded. Accepted values : CAUTH, CED, CTRY, CTY, CTYUA, LAD, LPA, LSOA, MCTY, MSOA, OA, PAR, PARNCP, RGN, UTLA, WD year number containing year boundary created. detail_level string defining level detail geometry. (affects download size). Accepted values : BFC, BFE, BGC, BUC. value corresponds : Full Extent (BFE) – Full resolution boundaries go Extent Realm (Low Water Mark) detailed boundaries. Full Clipped (BFC) – Full resolution boundaries clipped coastline (Mean High Water mark). Generalised Clipped (BGC) - Generalised 20m clipped coastline (Mean High Water mark) generalised BFE boundaries. Super Generalised Clipped (BSC) (200m) – Generalised 200m clipped coastline (Mean High Water mark). Ultra Generalised Clipped (BUC) (500m) – Generalised 500m clipped coastline (Mean High Water mark). Grid, Extent (BGE) - Grid formed equally sized cells extend beyond coastline. Generalised, Grid (BGG) - Generalised 50m grid squares. detailed description boundaries created refer Digital boundaries","code":""},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_get.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve Geographical Boundaries — boundaries_get","text":"sf object selected boundaries.","code":""},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_get.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve Geographical Boundaries — boundaries_get","text":"","code":"CA_2023_BGC <- boundaries_get(\"CAUTH\", 2023, \"BGC\") #> ℹ Querying ONS API #> ✔ Querying ONS API [8ms] #>  #> ⠙ Downloading the selected dataset from ONS services #> Error in if (nchar(dsn) < 1) stop(\"`dsn` must point to a source, not an empty string.\",     call. = FALSE): the condition has length > 1 #> ✖ Downloading the selected dataset from ONS services [363ms] #>   class(CA_2023_BGC) #> Error in eval(expr, envir, enclos): object 'CA_2023_BGC' not found"},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_select.html","id":null,"dir":"Reference","previous_headings":"","what":"Interactively Retrieve Geographical Boundaries — boundaries_select","title":"Interactively Retrieve Geographical Boundaries — boundaries_select","text":"Command Line Interface constructs valid combination geometry type, year detail level downloads selected boundary calling boundaries_get().","code":""},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_select.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Interactively Retrieve Geographical Boundaries — boundaries_select","text":"","code":"boundaries_select()"},{"path":"https://warwickcim.github.io/ukgeographies/reference/boundaries_select.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Interactively Retrieve Geographical Boundaries — boundaries_select","text":"sf object selected combination boundary, year detail level.","code":""},{"path":"https://warwickcim.github.io/ukgeographies/reference/ons_boundaries.html","id":null,"dir":"Reference","previous_headings":"","what":"ONS Boundaries Metadata — ons_boundaries","title":"ONS Boundaries Metadata — ons_boundaries","text":"Metadata subset geographical boundaries ONS' geoportal can downloaded {ukgeographies}. boundaries retrieved services provided ONS' geoportal API automatically categorised URLS, match Geoportal's menus datasets.","code":""},{"path":"https://warwickcim.github.io/ukgeographies/reference/ons_boundaries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ONS Boundaries Metadata — ons_boundaries","text":"","code":"ons_boundaries"},{"path":"https://warwickcim.github.io/ukgeographies/reference/ons_boundaries.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"ONS Boundaries Metadata — ons_boundaries","text":"data frame 524 rows 8 columns: id unique identifier every boundary service URL pointing API service boundary_type Type boundary, according ONS' classification: Administrative boundary Boundary name, according ONS' naming: Combined Authorities, Counties, Counties Unitary Authorities, Countries, County Electoral Division, Local Authority Districts, Local Planning Authorities, Lower Layer Output Areas, Metropolitan Counties, Middle Layer Output Areas, Output Areas, Parishes, Parishes Non Civil Parished Areas, Regions, Upper Tier, Wards boundary_short Boundary (short) name, according ONS' naming: CAUTH, CED, CTRY, CTY, CTYUA, LAD, LPA, LSOA, MCTY, MSOA, OA, PAR, PARNCP, RGN, UTLA, WD detail_level Boundary's level detail: BFC, BFE, BGC, BUC. detailed description methodology refer Digital boundaries year Year boundaries created url_download URL querying API service return features geojson file","code":""},{"path":"https://warwickcim.github.io/ukgeographies/reference/ons_boundaries.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"ONS Boundaries Metadata — ons_boundaries","text":"https://services1.arcgis.com/ESMARspQHYMw9BZ9/arcgis/rest/services/","code":""}]
